(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48d36ed7","chunk-2d2375a2","chunk-4ee33d32","chunk-30771d36","chunk-385e7a5c","chunk-e872539c","chunk-5fca631a"],{"105f":function(e,t,a){},"1f34":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"top"},[-1!==e.funcMap.indexOf("userAdd")?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:function(t){return e.addOrUpdate()}}},[e._v("新增")]):e._e()],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.dataList,"header-cell-style":{background:"#f8f8f9"}}},[a("el-table-column",{attrs:{prop:"nickName",label:"员工名称"}}),a("el-table-column",{attrs:{prop:"phone",label:"联系方式"}}),a("el-table-column",{attrs:{prop:"roleName",label:"员工角色"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return["Y"!=t.row.manager&&-1!==e.funcMap.indexOf("userUpt")?a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.addOrUpdate(t.row)}}},[a("i",{staticClass:"el-icon-edit-outline"}),e._v("修改")]):e._e(),"Y"!=t.row.manager&&-1!==e.funcMap.indexOf("userDel")?a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.del(t.row)}}},[a("i",{staticClass:"el-icon-delete"}),e._v("删除")]):e._e()]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.count},on:{"current-change":e.currentChange}}),a("add-or-update",{ref:"aou",on:{getRoleList:function(t){return e.getRoleList()}}})],1)},r=[],o=a("31ca"),i=a("cf45"),n={components:{addOrUpdate:o["default"]},data:function(){return{count:null,page:1,listLoading:!1,dataList:[],funcMap:[]}},mounted:function(){this.getRoleList(),this.funcMap=JSON.parse(localStorage.getItem("funcMap"))},methods:{currentChange:function(e){this.page!==e&&(this.page=e,this.getRoleList())},addOrUpdate:function(e){this.$refs.aou.init(e)},getRoleList:function(){var e=this,t={},a={};t.url="/SS_CRUD/SelectUser",a.page=this.page,a.shopId=JSON.parse(localStorage.getItem("userdata")).shopId,t.send=a,Object(i["a"])(t,this).then((function(t){console.log(t),0==t.code&&(e.count=t.data.count,e.dataList=t.data.list)}),(function(e){}))},del:function(e){var t=this;this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={},s={};a.url="/SS_CRUD/DeleteUser",s.userId=e.userId,a.send=s,Object(i["a"])(a,t).then((function(e){console.log(e),0==e.code?(t.getRoleList(),t.$message({type:"success",message:"删除成功!"})):t.$message({type:"error",message:e.msg})}),(function(e){}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},l=n,d=(a("36ad"),a("5d22")),c=Object(d["a"])(l,s,r,!1,null,null,null);t["default"]=c.exports},2017:function(e,t,a){"use strict";a("70ad")},"26fc":function(e,t,a){e.exports=a.p+"static/img/404_cloud.0f4bc32b.png"},"31ca":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"新增角色",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"dataForm",staticClass:"demo-ruleForm",attrs:{model:e.dataForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"员工名称",prop:"userName"}},[a("el-input",{attrs:{placeholder:"员工账号，登录用"},model:{value:e.dataForm.userName,callback:function(t){e.$set(e.dataForm,"userName",t)},expression:"dataForm.userName"}})],1),a("el-form-item",{attrs:{label:"员工昵称",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"员工昵称"},model:{value:e.dataForm.nickName,callback:function(t){e.$set(e.dataForm,"nickName",t)},expression:"dataForm.nickName"}})],1),a("el-form-item",{attrs:{label:"员工角色",prop:"roleId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.dataForm.roleId,callback:function(t){e.$set(e.dataForm,"roleId",t)},expression:"dataForm.roleId"}},e._l(e.roleList,(function(e){return a("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId}})})),1)],1),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"员工手机号"},model:{value:e.dataForm.phone,callback:function(t){e.$set(e.dataForm,"phone",t)},expression:"dataForm.phone"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addOrUpdate()}}},[e._v("确 定")])],1)],1)},r=[],o=a("047a"),i=a("cf45"),n=a("897d"),l=a.n(n),d={data:function(){return{dialogVisible:!1,dataForm:{userName:"",nickName:"",roleId:"",phone:""},id:"",roleList:[],rules:{nickName:[{required:!0,message:"请填写员工昵称",trigger:"blur"}],userName:[{required:!0,message:"请填写员工名称",trigger:"blur"}],roleId:[{required:!0,message:"请选择员工角色",trigger:"change"}],phone:[{required:!0,message:"请填写员工手机号",trigger:"blur"}]}}},mounted:function(){this.tree=Object(o["e"])(),this.getAllRole()},methods:{init:function(e){this.dialogVisible=!0,this.id="",this.dataForm.userName="",this.dataForm.nickName="",this.dataForm.roleId="",this.dataForm.phone="",e&&(this.id=e.userId,this.dataForm.userName=e.userName,this.dataForm.nickName=e.nickName,this.dataForm.roleId=e.roleId,this.dataForm.phone=e.phone)},getAllRole:function(){var e=this,t={},a={};t.url="/SS_CRUD/GetAllRole",a.shopId=JSON.parse(localStorage.getItem("userdata")).shopId,t.send=a,Object(i["a"])(t,this).then((function(t){console.log(t),0==t.code&&(e.roleList=t.data.list)}),(function(e){}))},addOrUpdate:function(){var e=this;this.$refs.dataForm.validate((function(t){if(t){var a={},s={};a.url=e.id?"/SS_CRUD/UpdateUser":"/SS_CRUD/AddUser",e.id&&(s.userId=e.id),s.shopId=JSON.parse(localStorage.getItem("userdata")).shopId,s.userName=e.dataForm.userName,s.nickName=e.dataForm.nickName,s.roleId=e.dataForm.roleId,s.phone=e.dataForm.phone,s.password=l()("123456"),a.send=s,Object(i["a"])(a,e).then((function(t){console.log(t),0===t.code?(e.$emit("getRoleList"),e.dialogVisible=!1,e.$message({message:t.msg,type:"success"})):e.$message({message:t.msg,type:"error"})}),(function(e){}))}}))}}},c=d,u=a("5d22"),m=Object(u["a"])(c,s,r,!1,null,null,null);t["default"]=m.exports},"36ad":function(e,t,a){"use strict";a("fe42")},"3cb8":function(e,t,a){"use strict";a("c2b9")},"424f":function(e,t,a){},"639f":function(e,t,a){"use strict";a("bcd7")},"658b":function(e,t,a){"use strict";a("105f")},"6a99":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"新增角色",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"dataForm",staticClass:"demo-ruleForm",attrs:{model:e.dataForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{model:{value:e.dataForm.roleName,callback:function(t){e.$set(e.dataForm,"roleName",t)},expression:"dataForm.roleName"}})],1),a("el-form-item",{attrs:{label:"权限",prop:"quanxian"}},[a("el-checkbox",{on:{change:e.checkedChange},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("全选/全不选")]),a("div",{staticStyle:{height:"400px",overflow:"auto"}},[a("el-tree",{ref:"tree",attrs:{data:e.tree,"node-key":"FunctionId","show-checkbox":"","default-checked-keys":e.keys,"highlight-current":"",props:e.defaultProps}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addOrUpdate()}}},[e._v("确 定")])],1)],1)},r=[],o=(a("b4fb"),a("e18c"),a("af86"),a("047a")),i=a("cf45"),n={data:function(){return{dialogVisible:!1,dataForm:{roleName:""},checked:"",id:"",tree:[],keys:[],defaultProps:{label:"FunctionName",value:"FunctionId"},rules:{roleName:[{required:!0,message:"请填写角色名称",trigger:"blur"}]}}},mounted:function(){this.tree=Object(o["e"])()},methods:{init:function(e){var t=this;this.dialogVisible=!0,setTimeout((function(){t.$refs.tree.setCheckedKeys([]),t.id="",t.dataForm.roleName="",t.keys=[],t.checked=!1,e&&(t.id=e.roleId,t.keys=Object(o["b"])(e.funcMap),t.dataForm.roleName=e.roleName)}),1)},checkedChange:function(e){!0===e?this.$refs.tree.setCheckedNodes(this.tree):this.$refs.tree.setCheckedKeys([])},addOrUpdate:function(){var e=this;this.$refs.dataForm.validate((function(t){if(t){var a={},s={};a.url=e.id?"/SS_CRUD/UpdateRole":"/SS_CRUD/AddRole",e.id&&(s.roleId=e.id),s.shopId=JSON.parse(localStorage.getItem("userdata")).shopId,s.funcMap=Object(o["a"])(e.$refs.tree.getCheckedKeys().concat(e.$refs.tree.getHalfCheckedKeys())),s.roleName=e.dataForm.roleName,a.send=s,Object(i["a"])(a,e).then((function(t){console.log(t),0===t.code?(e.$emit("getRoleList"),e.dialogVisible=!1,e.$message({message:t.msg,type:"success"})):e.$message({message:t.msg,type:"error"})}),(function(e){}))}}))}}},l=n,d=a("5d22"),c=Object(d["a"])(l,s,r,!1,null,null,null);t["default"]=c.exports},"70ad":function(e,t,a){},"70eb":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"top"},[-1!==e.funcMap.indexOf("roleAdd")?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:function(t){return e.addOrUpdate()}}},[e._v("新增")]):e._e()],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.dataList,"header-cell-style":{background:"#f8f8f9"}}},[a("el-table-column",{attrs:{prop:"roleName",label:"角色名称"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return["Y"!=t.row.manager&&-1!==e.funcMap.indexOf("roleUpt")?a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.addOrUpdate(t.row)}}},[a("i",{staticClass:"el-icon-edit-outline"}),e._v("修改")]):e._e(),"Y"!=t.row.manager&&-1!==e.funcMap.indexOf("roleDel")?a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.del(t.row)}}},[a("i",{staticClass:"el-icon-delete"}),e._v("删除")]):e._e()]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.count},on:{"current-change":e.currentChange}}),a("add-or-update",{ref:"aou",on:{getRoleList:function(t){return e.getRoleList()}}})],1)},r=[],o=a("6a99"),i=a("cf45"),n={components:{addOrUpdate:o["default"]},data:function(){return{count:null,page:1,listLoading:!1,dataList:[],funcMap:[]}},mounted:function(){this.getRoleList(),this.funcMap=JSON.parse(localStorage.getItem("funcMap"))},methods:{currentChange:function(e){this.page!==e&&(this.page=e,this.getRoleList())},addOrUpdate:function(e){this.$refs.aou.init(e)},getRoleList:function(){var e=this,t={},a={};t.url="/SS_CRUD/SelectRole",a.page=this.page,a.shopId=JSON.parse(localStorage.getItem("userdata")).shopId,t.send=a,Object(i["a"])(t,this).then((function(t){console.log(t),0==t.code&&(e.count=t.data.count,e.dataList=t.data.list)}),(function(e){}))},del:function(e){var t=this;this.$confirm("此操作将永久删除该角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={},s={};a.url="/SS_CRUD/DeleteRole",s.roleId=e.roleId,a.send=s,Object(i["a"])(a,t).then((function(e){console.log(e),0==e.code?(t.getRoleList(),t.$message({type:"success",message:"删除成功!"})):t.$message({type:"error",message:e.msg})}),(function(e){}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},l=n,d=(a("658b"),a("5d22")),c=Object(d["a"])(l,s,r,!1,null,null,null);t["default"]=c.exports},"7a0f":function(e,t,a){},8870:function(e,t,a){"use strict";a("424f")},"8cdb":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[e._m(0),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[e._v("OOPS!")]),e._m(1),a("div",{staticClass:"bullshit__headline"},[e._v(e._s(e.message))]),a("div",{staticClass:"bullshit__info"},[e._v("Please check that the URL you entered is correct, or click the button below to return to the homepage.")]),a("a",{staticClass:"bullshit__return-home",attrs:{href:""}},[e._v("Back to home")])])])])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pic-404"},[s("img",{staticClass:"pic-404__parent",attrs:{src:a("a36b"),alt:"404"}}),s("img",{staticClass:"pic-404__child left",attrs:{src:a("26fc"),alt:"404"}}),s("img",{staticClass:"pic-404__child mid",attrs:{src:a("26fc"),alt:"404"}}),s("img",{staticClass:"pic-404__child right",attrs:{src:a("26fc"),alt:"404"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bullshit__info"},[e._v("All rights reserved "),a("a",{staticStyle:{color:"#20a0ff"},attrs:{href:"https://wallstreetcn.com",target:"_blank"}},[e._v("wallstreetcn")])])}],o={name:"Page404",computed:{message:function(){return"The webmaster said that you can not enter this page..."}}},i=o,n=(a("97ef"),a("5d22")),l=Object(n["a"])(i,s,r,!1,null,"c095f994",null);t["default"]=l.exports},9639:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"left"},[a("el-card",{staticClass:"box-card ",staticStyle:{width:"100%"},attrs:{header:"个人信息"}},[a("div",{staticStyle:{overflow:"hidden","text-align":"center"}},[a("el-upload",{ref:"upload",staticClass:"img-p",attrs:{"auto-upload":!1,multiple:!1,limit:1,accept:"image/jpeg,image/gif,image/png",action:"","show-file-list":!1,"on-change":e.uploadFiles}},[e.imageUrl?a("img",{staticClass:"avatar img",attrs:{src:e.imageUrl,title:"点击修改头像"}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("div",{staticClass:"left-item"},[a("svg-icon",{attrs:{"icon-class":"user"}}),e._v(" 用户昵称"),a("span",{staticClass:"left-span"},[e._v(e._s(e.data.nickName))])],1),a("div",{staticClass:"left-item"},[a("svg-icon",{attrs:{"icon-class":"phone"}}),e._v(" 手机号码"),a("span",{staticClass:"left-span"},[e._v(e._s(e.data.phone))])],1),21!=e.roleId?a("div",{staticClass:"left-item"},[a("svg-icon",{attrs:{"icon-class":"tree"}}),e._v(" 所属部门"),a("span",{staticClass:"left-span"},[e._v(e._s(e.data.dept))])],1):e._e(),21!=e.roleId?a("div",{staticClass:"left-item"},[a("svg-icon",{attrs:{"icon-class":"peoples"}}),e._v(" 所属角色"),a("span",{staticClass:"left-span"},[e._v(e._s(e.data.role))])],1):e._e(),a("div",{staticClass:"left-item"},[a("svg-icon",{attrs:{"icon-class":"date"}}),e._v(" 创建日期"),a("span",{staticClass:"left-span"},[e._v(e._s(e.data.userCreate))])],1)])],1),a("div",{staticClass:"right"},[a("el-card",{staticClass:"box-card",staticStyle:{width:"100%"},attrs:{header:"基本资料"}},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本资料",name:"基本资料"}},[a("el-form",{ref:"dataForm",staticClass:"demo-ruleForm",staticStyle:{overflow:"hidden"},attrs:{model:e.dataForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[a("el-input",{model:{value:e.dataForm.nickName,callback:function(t){e.$set(e.dataForm,"nickName",t)},expression:"dataForm.nickName"}})],1),a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{model:{value:e.dataForm.phone,callback:function(t){e.$set(e.dataForm,"phone",t)},expression:"dataForm.phone"}})],1),21==e.roleId?a("el-form-item",{attrs:{label:"地址",prop:21==e.roleId?"address":"a"}},[a("el-input",{model:{value:e.dataForm.address,callback:function(t){e.$set(e.dataForm,"address",t)},expression:"dataForm.address"}})],1):e._e(),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.update()}}},[e._v("保存")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.reset()}}},[e._v("重置")])],1)],1)],1),a("el-tab-pane",{attrs:{label:"修改密码",name:"修改密码"}},[a("el-form",{ref:"psdForm",staticClass:"demo-ruleForm",staticStyle:{overflow:"hidden"},attrs:{model:e.psdForm,rules:e.psdrules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"旧密码",prop:"oldpsd"}},[a("el-input",{attrs:{"show-password":"",clearable:""},model:{value:e.psdForm.oldpsd,callback:function(t){e.$set(e.psdForm,"oldpsd",t)},expression:"psdForm.oldpsd"}})],1),a("el-form-item",{attrs:{label:"新密码",prop:"newpsd1"}},[a("el-input",{attrs:{"show-password":"",clearable:""},model:{value:e.psdForm.newpsd1,callback:function(t){e.$set(e.psdForm,"newpsd1",t)},expression:"psdForm.newpsd1"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"newpsd2"}},[a("el-input",{attrs:{"show-password":"",clearable:""},model:{value:e.psdForm.newpsd2,callback:function(t){e.$set(e.psdForm,"newpsd2",t)},expression:"psdForm.newpsd2"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.uptpsd()}}},[e._v("保存")])],1)],1)],1)],1)],1)],1)])},r=[],o=a("cf45"),i=a("ca00"),n=a("8c92"),l=a.n(n),d=(a("f753"),{data:function(){return{userId:null,roleId:null,data:"",img:"",activeName:"基本资料",imageUrl:"",dataForm:{nickName:"",phone:"",gender:"",address:""},psdForm:{oldpsd:"",newpsd1:"",newpsd2:""},genderList:[{value:"0",label:"女"},{value:"1",label:"男"}],rules:{nickName:[{required:!0,message:"请输入用户昵称",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}],phone:[{required:!0,message:"请输入11位手机号",trigger:"blur"},{validator:i["isPhone"],trigger:"blur"}],gender:[{required:!0,message:"请选择性别",trigger:"blur"}]},psdrules:{oldpsd:[{required:!0,message:"请输入旧密码",trigger:"blur"}],newpsd1:[{required:!0,message:"请输入新密码",trigger:"blur"}],newpsd2:[{required:!0,message:"请输入新密码",trigger:"blur"},{validator:this.verifypsd,trigger:"blur"}]}}},mounted:function(){this.userId=JSON.parse(localStorage.getItem("userdata")).userId,this.roleId=JSON.parse(localStorage.getItem("userdata")).roleId,this.details()},methods:{uploadFiles:function(){console.log(123);var e=this,t=this.$refs.upload.$refs["upload-inner"].$refs.input,a=t.files,s=new FileReader;s.readAsDataURL(a[0]),console.log(s),s.onload=function(t){console.log(t.target.result);var a={},s={};a.url="/f/upload",s.userId=e.userId,s.imgData=t.target.result,s.userId=e.userId,a.send=s,Object(o["a"])(a,e).then((function(t){console.log(t),e.imageUrl="http://192.168.0.79:9528/f/img/"+t.img,e.$refs.upload.uploadFiles=[]}),(function(e){}))}},details:function(){var e=this,t={},a={};t.url="/f/my/details",a.userId=this.userId,t.send=a,Object(o["a"])(t,this).then((function(t){console.log(t),0===t.code&&(e.data=t.data,e.dataForm.nickName=t.data.nickName,e.dataForm.phone=t.data.phone,e.dataForm.address=t.data.address,e.imageUrl="http://192.168.0.79:8888/f/img/"+t.data.img,e.img=t.data.img)}),(function(e){}))},reset:function(){this.dataForm.nickName=this.data.nickName,this.dataForm.phone=this.data.phone,this.dataForm.gender=this.data.gender},update:function(){var e=this;this.$refs.dataForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;var a={},s={};a.url="/f/my/myUptData",s.userId=e.userId,s.nickName=e.dataForm.nickName,s.phone=e.dataForm.phone,s.gender=e.dataForm.gender,a.send=s,Object(o["a"])(a,e).then((function(t){console.log(t),0===t.code&&(e.$message({message:t.msg,type:"success"}),e.details())}),(function(e){}))}))},verifypsd:function(e,t,a){return this.psdForm.newpsd1===this.psdForm.newpsd2?a():a(new Error("两次密码不一致"))},uptpsd:function(){var e=this;this.$refs.psdForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;var a={},s={};a.url="/f/my/uptpsd",s.userId=e.userId,s.oldpsd=e.psdForm.oldpsd,s.newpsd=e.psdForm.newpsd2,a.send=s,Object(o["a"])(a,e).then((function(t){console.log(t),0===t.code?(e.$message({message:t.msg,type:"success"}),e.logout()):e.$message({message:t.msg,type:"error"})}),(function(e){}))}))},logout:function(){var e=this,t={},a={};t.url="/f/logout",t.send=a,Object(o["a"])(t,this).then((function(t){l.a.remove("token"),window.localStorage.clear(),localStorage.removeItem("rou"),localStorage.removeItem("userdata"),localStorage.removeItem("jurisdiction"),e.$router.push("/login?redirect=".concat(e.$route.fullPath))}),(function(e){}))}}}),c=d,u=(a("3cb8"),a("8870"),a("5d22")),m=Object(u["a"])(c,s,r,!1,null,"09c3e96f",null);t["default"]=m.exports},"97ef":function(e,t,a){"use strict";a("7a0f")},"9ed6":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("el-form",{ref:"loginForm",staticClass:"login-form login",class:e.donghua1,attrs:{model:e.loginForm,"auto-complete":"on","label-position":"left"}},[a("div",{staticClass:"title-container"},[a("h3",{staticClass:"title"},[e._v("登 录")])]),a("el-form-item",{attrs:{prop:"username"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"user"}})],1),a("el-input",{ref:"username",attrs:{placeholder:"Username",name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"password"}})],1),a("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"Password",name:"password",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),a("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[a("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),a("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},on:{click:e.handleLogin}},[e._v("Login")]),a("span",{staticClass:"switch",on:{click:e.animation}},[e._v("注册")])],1),a("el-form",{ref:"registerForm",staticClass:"login-form you register",class:e.donghua2,attrs:{model:e.registerForm,rules:e.registerRules,"label-width":"80px"}},[a("div",{staticClass:"title-container"},[a("h3",{staticClass:"title"},[e._v("注 册")])]),a("el-form-item",{attrs:{label:"账号",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入账号(登录用)"},model:{value:e.registerForm.userName,callback:function(t){e.$set(e.registerForm,"userName",t)},expression:"registerForm.userName"}})],1),a("el-form-item",{attrs:{label:"昵称",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入昵称"},model:{value:e.registerForm.nickName,callback:function(t){e.$set(e.registerForm,"nickName",t)},expression:"registerForm.nickName"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"password1"}},[a("el-input",{attrs:{placeholder:"确认密码","show-password":""},model:{value:e.registerForm.password1,callback:function(t){e.$set(e.registerForm,"password1",t)},expression:"registerForm.password1"}})],1),a("el-form-item",{attrs:{label:"电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入电话"},model:{value:e.registerForm.phone,callback:function(t){e.$set(e.registerForm,"phone",t)},expression:"registerForm.phone"}})],1),a("el-form-item",{attrs:{label:"店铺名称",prop:"shopName"}},[a("el-input",{attrs:{placeholder:"请输入店铺名称"},model:{value:e.registerForm.shopName,callback:function(t){e.$set(e.registerForm,"shopName",t)},expression:"registerForm.shopName"}})],1),a("el-form-item",{attrs:{label:"店铺地址",prop:"address"}},[a("el-input",{attrs:{placeholder:"请输入地址"},model:{value:e.registerForm.address,callback:function(t){e.$set(e.registerForm,"address",t)},expression:"registerForm.address"}})],1),a("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.handleRegister()}}},[e._v("注册")]),a("span",{staticClass:"switch",on:{click:e.animation}},[e._v("登录")])],1)],1)},r=[],o=a("cf45"),i=a("047a"),n=a("8c92"),l=a.n(n),d=a("897d"),c=a.n(d),u={name:"Login",data:function(){var e=this,t=function(t,a,s){var r={},i={};r.url="/SS_CRUD/HaveUserName",i.userName=a,r.send=i,Object(o["a"])(r,e).then((function(e){0==e.code?s():s(new Error(e.msg))}),(function(e){}))},a=function(t,a,s){a===e.registerForm.password?s():s(new Error("两次输入密码不正确"))},s=function(t,a,s){a===e.registerForm.password1||""===e.registerForm.password1?s():s(new Error("两次输入密码不正确"))};return{loginForm:{username:"",password:""},registerForm:{userName:"",nickName:"",password:"",password1:"",phone:"",address:"",shopName:""},loading:!1,passwordType:"password",redirect:void 0,donghua1:"",donghua2:"",num:0,registerRules:{userName:[{required:!0,message:"请输入账号",trigger:"blur"},{validator:t,trigger:"blur"}],nickName:[{required:!0,message:"请填写昵称",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"},{validator:s,trigger:"blur"}],password1:[{required:!0,message:"请再次填写密码",trigger:"blur"},{validator:a,trigger:"blur"}],phone:[{required:!0,message:"请填写手机号码",trigger:"blur"}],address:[{required:!0,message:"请填写店铺地址",trigger:"blur"}],shopName:[{required:!0,message:"请填写店铺名称",trigger:"blur"}]}}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{animation:function(){this.num%2==0?(this.donghua1="login1",this.donghua2="register2"):(this.donghua1="login2",this.donghua2="register1"),this.num++},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleRegister:function(){var e=this;this.$refs.registerForm.validate((function(t){if(t){var a={},s={};s.userName=e.registerForm.userName,s.nickName=e.registerForm.nickName,s.password=c()(e.registerForm.password),s.phone=e.registerForm.phone,s.address=e.registerForm.address,s.shopName=e.registerForm.shopName,a.url="/SS_CRUD/Enroll",a.send=s,Object(o["a"])(a,e).then((function(t){console.log(t),0==t.code&&(e.$message({message:t.msg,type:"success"}),e.loginForm.username=e.registerForm.userName,e.loginForm.password=e.registerForm.password,e.handleLogin())}),(function(e){}))}}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0;var a={},s={};a.url="/SS_CRUD/Login",s.userName=e.loginForm.username,s.password=c()(e.loginForm.password),a.send=s,Object(o["a"])(a,e).then((function(t){e.loading=!1,console.log(t),0!==t.code?e.$message.error("登陆失败"):(l.a.set("token",t.data.token),localStorage.setItem("userdata",JSON.stringify(t.data)),localStorage.setItem("funcMap",JSON.stringify(Object(i["b"])(t.data.funcMap))),e.$router.push({path:"/"})),e.loading=!1}),(function(t){e.loading=!1}))}))}}},m=u,p=(a("2017"),a("639f"),a("5d22")),g=Object(p["a"])(m,s,r,!1,null,"e7f1a14e",null);t["default"]=g.exports},a36b:function(e,t,a){e.exports=a.p+"static/img/404.a57b6f31.png"},a8c4:function(e,t,a){var s={"./views/404":"8cdb","./views/404.vue":"8cdb","./views/homePage":"fb6f","./views/homePage/":"fb6f","./views/homePage/index":"fb6f","./views/homePage/index.vue":"fb6f","./views/login":"9ed6","./views/login/":"9ed6","./views/login/index":"9ed6","./views/login/index.vue":"9ed6","./views/my":"9639","./views/my/":"9639","./views/my/index":"9639","./views/my/index.vue":"9639","./views/system/role":"70eb","./views/system/role/":"70eb","./views/system/role/addOrUpdate":"6a99","./views/system/role/addOrUpdate.vue":"6a99","./views/system/role/index":"70eb","./views/system/role/index.vue":"70eb","./views/system/user":"1f34","./views/system/user/":"1f34","./views/system/user/addOrUpdate":"31ca","./views/system/user/addOrUpdate.vue":"31ca","./views/system/user/index":"1f34","./views/system/user/index.vue":"1f34"};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=o,e.exports=r,r.id="a8c4"},bcd7:function(e,t,a){},c2b9:function(e,t,a){},fb6f:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("1")])},r=[],o={},i=o,n=a("5d22"),l=Object(n["a"])(i,s,r,!1,null,null,null);t["default"]=l.exports},fe42:function(e,t,a){}}]);